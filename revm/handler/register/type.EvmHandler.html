<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="EVM Handler"><title>EvmHandler in revm::handler::register - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="revm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../revm/index.html">revm</a><span class="version">19.4.0</span></h2></div><h2 class="location"><a href="#">EvmHandler</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#fields">Fields</a></h3><ul class="block field"><li><a href="#structfield.cfg">cfg</a></li><li><a href="#structfield.execution">execution</a></li><li><a href="#structfield.instruction_table">instruction_table</a></li><li><a href="#structfield.post_execution">post_execution</a></li><li><a href="#structfield.pre_execution">pre_execution</a></li><li><a href="#structfield.registers">registers</a></li><li><a href="#structfield.validation">validation</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.append_handler_register">append_handler_register</a></li><li><a href="#method.append_handler_register_box">append_handler_register_box</a></li><li><a href="#method.append_handler_register_plain">append_handler_register_plain</a></li><li><a href="#method.cfg">cfg</a></li><li><a href="#method.create_handle_generic">create_handle_generic</a></li><li><a href="#method.execute_frame">execute_frame</a></li><li><a href="#method.execution">execution</a></li><li><a href="#method.is_optimism">is_optimism</a></li><li><a href="#method.mainnet">mainnet</a></li><li><a href="#method.mainnet_with_spec">mainnet_with_spec</a></li><li><a href="#method.modify_spec_id">modify_spec_id</a></li><li><a href="#method.new">new</a></li><li><a href="#method.pop_handle_register">pop_handle_register</a></li><li><a href="#method.post_execution">post_execution</a></li><li><a href="#method.pre_execution">pre_execution</a></li><li><a href="#method.set_instruction_table">set_instruction_table</a></li><li><a href="#method.spec_id">spec_id</a></li><li><a href="#method.take_instruction_table">take_instruction_table</a></li><li><a href="#method.validation">validation</a></li></ul></section><h2><a href="index.html">In revm::handler::register</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../../index.html">revm</a>::<wbr><a href="../index.html">handler</a>::<wbr><a href="index.html">register</a>::<wbr><a class="type" href="#">EvmHandler</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/revm/handler/register.rs.html#5">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type EvmHandler&lt;'a, EXT, DB&gt; = <a class="struct" href="../struct.Handler.html" title="struct revm::handler::Handler">Handler</a>&lt;'a, <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;, EXT, DB&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>EVM Handler</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct EvmHandler&lt;'a, EXT, DB&gt; {
    pub cfg: <a class="struct" href="../../precompile/primitives/struct.HandlerCfg.html" title="struct revm::precompile::primitives::HandlerCfg">HandlerCfg</a>,
    pub instruction_table: <a class="enum" href="../../interpreter/opcode/enum.InstructionTables.html" title="enum revm::interpreter::opcode::InstructionTables">InstructionTables</a>&lt;'a, <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;&gt;,
    pub registers: <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.HandleRegisters.html" title="enum revm::handler::register::HandleRegisters">HandleRegisters</a>&lt;'a, EXT, DB&gt;&gt;,
    pub validation: <a class="struct" href="../validation/struct.ValidationHandler.html" title="struct revm::handler::validation::ValidationHandler">ValidationHandler</a>&lt;'a, EXT, DB&gt;,
    pub pre_execution: <a class="struct" href="../pre_execution/struct.PreExecutionHandler.html" title="struct revm::handler::pre_execution::PreExecutionHandler">PreExecutionHandler</a>&lt;'a, EXT, DB&gt;,
    pub post_execution: <a class="struct" href="../post_execution/struct.PostExecutionHandler.html" title="struct revm::handler::post_execution::PostExecutionHandler">PostExecutionHandler</a>&lt;'a, EXT, DB&gt;,
    pub execution: <a class="struct" href="../execution/struct.ExecutionHandler.html" title="struct revm::handler::execution::ExecutionHandler">ExecutionHandler</a>&lt;'a, EXT, DB&gt;,
}</code></pre><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.cfg" class="structfield section-header"><a href="#structfield.cfg" class="anchor field">§</a><code>cfg: <a class="struct" href="../../precompile/primitives/struct.HandlerCfg.html" title="struct revm::precompile::primitives::HandlerCfg">HandlerCfg</a></code></span><div class="docblock"><p>Handler configuration.</p>
</div><span id="structfield.instruction_table" class="structfield section-header"><a href="#structfield.instruction_table" class="anchor field">§</a><code>instruction_table: <a class="enum" href="../../interpreter/opcode/enum.InstructionTables.html" title="enum revm::interpreter::opcode::InstructionTables">InstructionTables</a>&lt;'a, <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;&gt;</code></span><div class="docblock"><p>Instruction table type.</p>
</div><span id="structfield.registers" class="structfield section-header"><a href="#structfield.registers" class="anchor field">§</a><code>registers: <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.HandleRegisters.html" title="enum revm::handler::register::HandleRegisters">HandleRegisters</a>&lt;'a, EXT, DB&gt;&gt;</code></span><div class="docblock"><p>Registers that will be called on initialization.</p>
</div><span id="structfield.validation" class="structfield section-header"><a href="#structfield.validation" class="anchor field">§</a><code>validation: <a class="struct" href="../validation/struct.ValidationHandler.html" title="struct revm::handler::validation::ValidationHandler">ValidationHandler</a>&lt;'a, EXT, DB&gt;</code></span><div class="docblock"><p>Validity handles.</p>
</div><span id="structfield.pre_execution" class="structfield section-header"><a href="#structfield.pre_execution" class="anchor field">§</a><code>pre_execution: <a class="struct" href="../pre_execution/struct.PreExecutionHandler.html" title="struct revm::handler::pre_execution::PreExecutionHandler">PreExecutionHandler</a>&lt;'a, EXT, DB&gt;</code></span><div class="docblock"><p>Pre execution handle.</p>
</div><span id="structfield.post_execution" class="structfield section-header"><a href="#structfield.post_execution" class="anchor field">§</a><code>post_execution: <a class="struct" href="../post_execution/struct.PostExecutionHandler.html" title="struct revm::handler::post_execution::PostExecutionHandler">PostExecutionHandler</a>&lt;'a, EXT, DB&gt;</code></span><div class="docblock"><p>Post Execution handle.</p>
</div><span id="structfield.execution" class="structfield section-header"><a href="#structfield.execution" class="anchor field">§</a><code>execution: <a class="struct" href="../execution/struct.ExecutionHandler.html" title="struct revm::handler::execution::ExecutionHandler">ExecutionHandler</a>&lt;'a, EXT, DB&gt;</code></span><div class="docblock"><p>Execution loop that handles frames.</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Handler%3C'a,+Context%3CEXT,+DB%3E,+EXT,+DB%3E" class="impl"><a class="src rightside" href="../../../src/revm/handler.rs.html#41-217">source</a><a href="#impl-Handler%3C'a,+Context%3CEXT,+DB%3E,+EXT,+DB%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, EXT, DB: <a class="trait" href="../../precompile/primitives/db/trait.Database.html" title="trait revm::precompile::primitives::db::Database">Database</a>&gt; <a class="type" href="type.EvmHandler.html" title="type revm::handler::register::EvmHandler">EvmHandler</a>&lt;'a, EXT, DB&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#46-58">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(cfg: <a class="struct" href="../../precompile/primitives/struct.HandlerCfg.html" title="struct revm::precompile::primitives::HandlerCfg">HandlerCfg</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Created new Handler with given configuration.</p>
<p>Internally it calls <code>mainnet_with_spec</code> with the given spec id.
Or <code>optimism_with_spec</code> if the optimism feature is enabled and <code>cfg.is_optimism</code> is set.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.mainnet" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#61-71">source</a><h4 class="code-header">pub fn <a href="#method.mainnet" class="fn">mainnet</a>&lt;SPEC: <a class="trait" href="../../precompile/primitives/trait.Spec.html" title="trait revm::precompile::primitives::Spec">Spec</a>&gt;() -&gt; Self</h4></section></summary><div class="docblock"><p>Default handler for Ethereum mainnet.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_optimism" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#74-76">source</a><h4 class="code-header">pub fn <a href="#method.is_optimism" class="fn">is_optimism</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the optimism feature is enabled and flag is set to <code>true</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.mainnet_with_spec" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#97-99">source</a><h4 class="code-header">pub fn <a href="#method.mainnet_with_spec" class="fn">mainnet_with_spec</a>(spec_id: <a class="enum" href="../../precompile/primitives/enum.SpecId.html" title="enum revm::precompile::primitives::SpecId">SpecId</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates handler with variable spec id, inside it will call <code>mainnet::&lt;SPEC&gt;</code> for
appropriate spec.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.cfg" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#102-104">source</a><h4 class="code-header">pub fn <a href="#method.cfg" class="fn">cfg</a>(&amp;self) -&gt; <a class="struct" href="../../precompile/primitives/struct.HandlerCfg.html" title="struct revm::precompile::primitives::HandlerCfg">HandlerCfg</a></h4></section></summary><div class="docblock"><p>Specification ID.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.spec_id" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#107-109">source</a><h4 class="code-header">pub fn <a href="#method.spec_id" class="fn">spec_id</a>(&amp;self) -&gt; <a class="enum" href="../../precompile/primitives/enum.SpecId.html" title="enum revm::precompile::primitives::SpecId">SpecId</a></h4></section></summary><div class="docblock"><p>Returns specification ID.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.execute_frame" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#112-120">source</a><h4 class="code-header">pub fn <a href="#method.execute_frame" class="fn">execute_frame</a>(
    &amp;self,
    frame: &amp;mut <a class="enum" href="../../enum.Frame.html" title="enum revm::Frame">Frame</a>,
    shared_memory: &amp;mut <a class="struct" href="../../interpreter/struct.SharedMemory.html" title="struct revm::interpreter::SharedMemory">SharedMemory</a>,
    context: &amp;mut <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../interpreter/enum.InterpreterAction.html" title="enum revm::interpreter::InterpreterAction">InterpreterAction</a>, <a class="enum" href="../../precompile/primitives/enum.EVMError.html" title="enum revm::precompile::primitives::EVMError">EVMError</a>&lt;DB::<a class="associatedtype" href="../../precompile/primitives/db/trait.Database.html#associatedtype.Error" title="type revm::precompile::primitives::db::Database::Error">Error</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Executes call frame.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.take_instruction_table" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#123-129">source</a><h4 class="code-header">pub fn <a href="#method.take_instruction_table" class="fn">take_instruction_table</a>(
    &amp;mut self,
) -&gt; <a class="enum" href="../../interpreter/opcode/enum.InstructionTables.html" title="enum revm::interpreter::opcode::InstructionTables">InstructionTables</a>&lt;'a, <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;&gt;</h4></section></summary><div class="docblock"><p>Take instruction table.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_instruction_table" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#132-134">source</a><h4 class="code-header">pub fn <a href="#method.set_instruction_table" class="fn">set_instruction_table</a>(
    &amp;mut self,
    table: <a class="enum" href="../../interpreter/opcode/enum.InstructionTables.html" title="enum revm::interpreter::opcode::InstructionTables">InstructionTables</a>&lt;'a, <a class="struct" href="../../struct.Context.html" title="struct revm::Context">Context</a>&lt;EXT, DB&gt;&gt;,
)</h4></section></summary><div class="docblock"><p>Set instruction table.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pre_execution" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#137-139">source</a><h4 class="code-header">pub fn <a href="#method.pre_execution" class="fn">pre_execution</a>(&amp;self) -&gt; &amp;<a class="struct" href="../pre_execution/struct.PreExecutionHandler.html" title="struct revm::handler::pre_execution::PreExecutionHandler">PreExecutionHandler</a>&lt;'a, EXT, DB&gt;</h4></section></summary><div class="docblock"><p>Returns reference to pre execution handler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.post_execution" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#142-144">source</a><h4 class="code-header">pub fn <a href="#method.post_execution" class="fn">post_execution</a>(&amp;self) -&gt; &amp;<a class="struct" href="../post_execution/struct.PostExecutionHandler.html" title="struct revm::handler::post_execution::PostExecutionHandler">PostExecutionHandler</a>&lt;'a, EXT, DB&gt;</h4></section></summary><div class="docblock"><p>Returns reference to pre execution handler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.execution" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#147-149">source</a><h4 class="code-header">pub fn <a href="#method.execution" class="fn">execution</a>(&amp;self) -&gt; &amp;<a class="struct" href="../execution/struct.ExecutionHandler.html" title="struct revm::handler::execution::ExecutionHandler">ExecutionHandler</a>&lt;'a, EXT, DB&gt;</h4></section></summary><div class="docblock"><p>Returns reference to frame handler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.validation" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#152-154">source</a><h4 class="code-header">pub fn <a href="#method.validation" class="fn">validation</a>(&amp;self) -&gt; &amp;<a class="struct" href="../validation/struct.ValidationHandler.html" title="struct revm::handler::validation::ValidationHandler">ValidationHandler</a>&lt;'a, EXT, DB&gt;</h4></section></summary><div class="docblock"><p>Returns reference to validation handler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.append_handler_register" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#157-160">source</a><h4 class="code-header">pub fn <a href="#method.append_handler_register" class="fn">append_handler_register</a>(
    &amp;mut self,
    register: <a class="enum" href="enum.HandleRegisters.html" title="enum revm::handler::register::HandleRegisters">HandleRegisters</a>&lt;'a, EXT, DB&gt;,
)</h4></section></summary><div class="docblock"><p>Append handle register.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.append_handler_register_plain" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#163-166">source</a><h4 class="code-header">pub fn <a href="#method.append_handler_register_plain" class="fn">append_handler_register_plain</a>(
    &amp;mut self,
    register: <a class="type" href="type.HandleRegister.html" title="type revm::handler::register::HandleRegister">HandleRegister</a>&lt;EXT, DB&gt;,
)</h4></section></summary><div class="docblock"><p>Append plain handle register.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.append_handler_register_box" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#169-172">source</a><h4 class="code-header">pub fn <a href="#method.append_handler_register_box" class="fn">append_handler_register_box</a>(
    &amp;mut self,
    register: <a class="type" href="type.HandleRegisterBox.html" title="type revm::handler::register::HandleRegisterBox">HandleRegisterBox</a>&lt;'a, EXT, DB&gt;,
)</h4></section></summary><div class="docblock"><p>Append boxed handle register.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pop_handle_register" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#175-187">source</a><h4 class="code-header">pub fn <a href="#method.pop_handle_register" class="fn">pop_handle_register</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.81.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.HandleRegisters.html" title="enum revm::handler::register::HandleRegisters">HandleRegisters</a>&lt;'a, EXT, DB&gt;&gt;</h4></section></summary><div class="docblock"><p>Pop last handle register and reapply all registers that are left.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.create_handle_generic" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#190-198">source</a><h4 class="code-header">pub fn <a href="#method.create_handle_generic" class="fn">create_handle_generic</a>&lt;SPEC: <a class="trait" href="../../precompile/primitives/trait.Spec.html" title="trait revm::precompile::primitives::Spec">Spec</a>&gt;(&amp;mut self) -&gt; <a class="type" href="type.EvmHandler.html" title="type revm::handler::register::EvmHandler">EvmHandler</a>&lt;'a, EXT, DB&gt;</h4></section></summary><div class="docblock"><p>Creates the Handler with Generic Spec.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.modify_spec_id" class="method"><a class="src rightside" href="../../../src/revm/handler.rs.html#201-216">source</a><h4 class="code-header">pub fn <a href="#method.modify_spec_id" class="fn">modify_spec_id</a>(&amp;mut self, spec_id: <a class="enum" href="../../precompile/primitives/enum.SpecId.html" title="enum revm::precompile::primitives::SpecId">SpecId</a>)</h4></section></summary><div class="docblock"><p>Creates the Handler with variable SpecId, inside it will call function with Generic Spec.</p>
</div></details></div></details></div><script src="../../../type.impl/revm/handler/struct.Handler.js" data-self-path="revm::handler::register::EvmHandler" async></script></section></div></main></body></html>